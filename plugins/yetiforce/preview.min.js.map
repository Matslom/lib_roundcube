{"version":3,"file":"preview.min.js","sources":["preview.js"],"sourcesContent":["/* {[The file is published on the basis of MIT License]} */\nwindow.rcmail &&\n\trcmail.addEventListener('init', function(evt) {\n\t\twindow.crm = getCrmWindow();\n\t\tloadActionBar();\n\t\trcmail.env.message_commands.push('yetiforce.importICS');\n\t\trcmail.register_command(\n\t\t\t'yetiforce.importICS',\n\t\t\tfunction(part, type) {\n\t\t\t\tjQuery.ajax({\n\t\t\t\t\ttype: 'POST',\n\t\t\t\t\turl:\n\t\t\t\t\t\t'./?_task=mail&_action=plugin.yetiforce.importIcs&_mbox=' +\n\t\t\t\t\t\turlencode(rcmail.env.mailbox) +\n\t\t\t\t\t\t'&_uid=' +\n\t\t\t\t\t\turlencode(rcmail.env.uid) +\n\t\t\t\t\t\t'&_part=' +\n\t\t\t\t\t\tpart +\n\t\t\t\t\t\t'&_type=' +\n\t\t\t\t\t\ttype,\n\t\t\t\t\tasync: false,\n\t\t\t\t\tsuccess: function(data) {\n\t\t\t\t\t\tdata = JSON.parse(data);\n\t\t\t\t\t\twindow.crm.Vtiger_Helper_Js.showPnotify({\n\t\t\t\t\t\t\ttext: data['message'],\n\t\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t\t});\n\t\t\t\t\t}\n\t\t\t\t});\n\t\t\t},\n\t\t\ttrue\n\t\t);\n\t});\n\nfunction loadActionBar() {\n\tvar content = $('#ytActionBarContent');\n\tvar params = {\n\t\tmodule: 'OSSMail',\n\t\tview: 'MailActionBar',\n\t\tuid: rcmail.env.uid,\n\t\tfolder: rcmail.env.mailbox,\n\t\trcId: rcmail.env.user_id\n\t};\n\twindow.crm.AppConnector.request(params).done(function(response) {\n\t\tcontent.find('.ytHeader').html(response);\n\t\t$('#messagecontent').css('top', content.outerHeight() + $('#messageheader').outerHeight() + 'px');\n\t\tregisterEvents(content);\n\t});\n}\n\nfunction registerEvents(content) {\n\tregisterAddRecord(content);\n\tregisterAddReletedRecord(content);\n\tregisterSelectRecord(content);\n\tregisterRemoveRecord(content);\n\tregisterImportMail(content);\n\twindow.crm.app.registerPopover(content.closest('body'));\n\tvar block = content.find('.ytHeader .js-data');\n\tcontent.find('.hideBtn').click(function() {\n\t\tvar button = $(this);\n\t\tvar icon = button.find('.glyphicon');\n\n\t\tif (button.data('type') == '0') {\n\t\t\tbutton.data('type', '1');\n\t\t\ticon.removeClass('glyphicon-chevron-up').addClass('glyphicon-chevron-down');\n\t\t} else {\n\t\t\tbutton.data('type', '0');\n\t\t\ticon.removeClass('glyphicon-chevron-down').addClass('glyphicon-chevron-up');\n\t\t}\n\t\tblock.toggle();\n\t\t$(window).trigger('resize');\n\t});\n}\n\nfunction registerImportMail(content) {\n\tlet clicked = false;\n\tcontent.find('.importMail').click(function(e) {\n\t\tif (clicked) return false;\n\t\tclicked = true;\n\t\twindow.crm.Vtiger_Helper_Js.showPnotify({\n\t\t\ttext: window.crm.app.vtranslate('StartedDownloadingEmail'),\n\t\t\ttype: 'info'\n\t\t});\n\t\twindow.crm.AppConnector.request({\n\t\t\tmodule: 'OSSMail',\n\t\t\taction: 'ImportMail',\n\t\t\tuid: rcmail.env.uid,\n\t\t\tfolder: rcmail.env.mailbox,\n\t\t\trcId: rcmail.env.user_id\n\t\t})\n\t\t\t.done(function(data) {\n\t\t\t\tloadActionBar();\n\t\t\t\twindow.crm.Vtiger_Helper_Js.showPnotify({\n\t\t\t\t\ttext: window.crm.app.vtranslate('AddFindEmailInRecord'),\n\t\t\t\t\ttype: 'success'\n\t\t\t\t});\n\t\t\t})\n\t\t\t.fail(function() {\n\t\t\t\tclicked = false;\n\t\t\t});\n\t});\n}\n\nfunction registerRemoveRecord(content) {\n\tcontent.find('button.removeRecord').click(function(e) {\n\t\tvar row = $(e.currentTarget).closest('.rowRelatedRecord');\n\t\tremoveRecord(row.data('id'));\n\t});\n}\n\nfunction registerSelectRecord(content) {\n\tlet id = content.find('#mailActionBarID').val();\n\tcontent.find('button.selectRecord').click(function(e) {\n\t\tlet relationSelect = content.find('#addRelationSelect').val();\n\t\tlet getCacheModule = window.crm.app.moduleCacheGet('selectedModuleName');\n\t\tif (getCacheModule === 'undefined' || relationSelect !== getCacheModule) {\n\t\t\twindow.crm.app.moduleCacheSet('selectedModuleName', relationSelect);\n\t\t}\n\t\tlet relParams = {\n\t\t\tmailId: id\n\t\t};\n\t\tif ($(this).data('type') == 0) {\n\t\t\tvar module = $(this)\n\t\t\t\t.closest('.js-head-container')\n\t\t\t\t.find('.module')\n\t\t\t\t.val();\n\t\t\tif (module === null) {\n\t\t\t\treturn;\n\t\t\t}\n\t\t} else {\n\t\t\tvar module = $(this).data('module');\n\t\t\trelParams.crmid = $(this)\n\t\t\t\t.closest('.rowRelatedRecord')\n\t\t\t\t.data('id');\n\t\t\trelParams.mod = $(this)\n\t\t\t\t.closest('.rowRelatedRecord')\n\t\t\t\t.data('module');\n\t\t\trelParams.newModule = module;\n\t\t}\n\t\tshowPopup(\n\t\t\t{\n\t\t\t\tmodule: module,\n\t\t\t\tsrc_module: 'OSSMailView',\n\t\t\t\tsrc_record: id\n\t\t\t},\n\t\t\trelParams\n\t\t);\n\t});\n}\n\nfunction registerAddReletedRecord(content) {\n\tvar id = content.find('#mailActionBarID').val();\n\tcontent.find('button.addRelatedRecord').click(function(e) {\n\t\tvar targetElement = $(e.currentTarget);\n\t\tvar row = targetElement.closest('.rowRelatedRecord');\n\t\tvar params = { sourceModule: row.data('module') };\n\t\tshowQuickCreateForm(targetElement.data('module'), row.data('id'), params);\n\t});\n}\n\nfunction registerAddRecord(content) {\n\tvar id = content.find('#mailActionBarID').val();\n\tlet getCacheModule = window.crm.app.moduleCacheGet('selectedModuleName');\n\tif (getCacheModule) {\n\t\tcontent.find('#addRelationSelect').val(getCacheModule);\n\t}\n\tcontent.find('button.addRecord').click(function(e) {\n\t\tvar relationSelect = content.find('#addRelationSelect').val();\n\t\tif (getCacheModule === 'undefined' || relationSelect !== getCacheModule) {\n\t\t\twindow.crm.app.moduleCacheSet('selectedModuleName', relationSelect);\n\t\t}\n\t\tvar col = $(e.currentTarget).closest('.js-head-container');\n\t\tlet selectValue = col.find('.module').val();\n\t\tif (selectValue !== null) {\n\t\t\tlet relatedRecords = [];\n\t\t\tcontent\n\t\t\t\t.find('.js-data')\n\t\t\t\t.find('.rowRelatedRecord')\n\t\t\t\t.each((i, record) => {\n\t\t\t\t\tlet data = $(record).data();\n\t\t\t\t\trelatedRecords.push({ module: data.module, id: data.id });\n\t\t\t\t});\n\t\t\tshowQuickCreateForm(selectValue, id, { relatedRecords: relatedRecords });\n\t\t}\n\t});\n}\n\nfunction removeRecord(crmid) {\n\tconst id = $('#mailActionBarID').val();\n\tlet params = {};\n\tparams.data = {\n\t\tmodule: 'OSSMail',\n\t\taction: 'ExecuteActions',\n\t\tmode: 'removeRelated',\n\t\tparams: {\n\t\t\tmailId: id,\n\t\t\tcrmid: crmid\n\t\t}\n\t};\n\tparams.async = false;\n\tparams.dataType = 'json';\n\twindow.crm.AppConnector.request(params).done(function(data) {\n\t\tconst response = data['result'];\n\t\tlet notifyParams = {\n\t\t\ttext: response['data'],\n\t\t\tanimation: 'show'\n\t\t};\n\t\tif (response['success']) {\n\t\t\tnotifyParams = {\n\t\t\t\ttext: response['data'],\n\t\t\t\ttype: 'info',\n\t\t\t\tanimation: 'show'\n\t\t\t};\n\t\t}\n\t\twindow.crm.Vtiger_Helper_Js.showPnotify(notifyParams);\n\t\tloadActionBar();\n\t});\n}\n\nfunction showPopup(params, actionsParams) {\n\tactionsParams['newModule'] = params['module'];\n\twindow.crm.app.showRecordsList(params, (modal, instance) => {\n\t\tinstance.setSelectEvent((responseData, e) => {\n\t\t\tactionsParams['newCrmId'] = responseData.id;\n\t\t\twindow.crm.AppConnector.request({\n\t\t\t\tasync: false,\n\t\t\t\tdataType: 'json',\n\t\t\t\tdata: {\n\t\t\t\t\tmodule: 'OSSMail',\n\t\t\t\t\taction: 'ExecuteActions',\n\t\t\t\t\tmode: 'addRelated',\n\t\t\t\t\tparams: actionsParams\n\t\t\t\t}\n\t\t\t}).done(function(data) {\n\t\t\t\tlet response = data['result'];\n\t\t\t\tif (response['success']) {\n\t\t\t\t\tvar notifyParams = {\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\ttype: 'info',\n\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t};\n\t\t\t\t} else {\n\t\t\t\t\tvar notifyParams = {\n\t\t\t\t\t\ttext: response['data'],\n\t\t\t\t\t\tanimation: 'show'\n\t\t\t\t\t};\n\t\t\t\t}\n\t\t\t\twindow.crm.Vtiger_Helper_Js.showPnotify(notifyParams);\n\t\t\t\tloadActionBar();\n\t\t\t});\n\t\t});\n\t});\n}\n\nfunction showQuickCreateForm(moduleName, record, params = {}) {\n\tconst content = $('#ytActionBarContent');\n\tlet relatedParams = {},\n\t\tsourceModule = 'OSSMailView';\n\tif (params['sourceModule']) {\n\t\tsourceModule = params['sourceModule'];\n\t}\n\tconst postShown = function(data) {\n\t\tvar index, queryParam, queryParamComponents;\n\t\t$('<input type=\"hidden\" name=\"sourceModule\" value=\"' + sourceModule + '\" />').appendTo(data);\n\t\t$('<input type=\"hidden\" name=\"sourceRecord\" value=\"' + record + '\" />').appendTo(data);\n\t\t$('<input type=\"hidden\" name=\"relationOperation\" value=\"true\" />').appendTo(data);\n\t};\n\tconst postQuickCreate = function(data) {\n\t\tloadActionBar();\n\t};\n\tconst ids = {\n\t\tlink: 'modulesLevel0',\n\t\tprocess: 'modulesLevel1',\n\t\tsubprocess: 'modulesLevel2',\n\t\tsubprocess_sl: 'modulesLevel3',\n\t\tlinkextend: 'modulesLevel4'\n\t};\n\tfor (var i in ids) {\n\t\tvar element = content.find('#' + ids[i]);\n\t\tvar value = element.length ? JSON.parse(element.val()) : [];\n\t\tif ($.inArray(sourceModule, value) >= 0) {\n\t\t\trelatedParams[i] = record;\n\t\t}\n\t}\n\tconst fillNameFields = first => {\n\t\tconst nameData = rcmail.env.fromName.split(' ');\n\t\tconst firstName = nameData.shift();\n\t\tconst lastName = nameData.join(' ');\n\t\treturn first ? firstName : lastName;\n\t};\n\tlet autoCompleteMapRaw = content.find('.js-mailAutoCompleteFields').val();\n\tlet autoCompleteMap = autoCompleteMapRaw ? JSON.parse(autoCompleteMapRaw) : [];\n\tif (autoCompleteMap && autoCompleteMap[moduleName]) {\n\t\tlet map = autoCompleteMap[moduleName];\n\t\tfor (let name in map) {\n\t\t\tif (map.hasOwnProperty(name) && map[name]) {\n\t\t\t\tswitch (map[name]) {\n\t\t\t\t\tcase 'fromNameFirstPart':\n\t\t\t\t\t\trelatedParams[name] = fillNameFields(true);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'fromNameSecondPart':\n\t\t\t\t\t\trelatedParams[name] = fillNameFields(false);\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'fromName':\n\t\t\t\t\t\trelatedParams[name] = rcmail.env.fromName;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'subject':\n\t\t\t\t\t\trelatedParams[name] = rcmail.env.subject;\n\t\t\t\t\t\tbreak;\n\t\t\t\t\tcase 'email':\n\t\t\t\t\t\trelatedParams[name] = rcmail.env.fromMail;\n\t\t\t\t\t\tbreak;\n\t\t\t\t}\n\t\t\t}\n\t\t}\n\t}\n\n\trelatedParams['email'] = rcmail.env.fromMail;\n\trelatedParams['email1'] = rcmail.env.fromMail;\n\tlet messageBody = $('#messagebody').clone();\n\tmessageBody.find('.image-attachment').remove();\n\trelatedParams['description'] = messageBody.text();\n\t//relatedParams['related_to'] = record;\n\tif (params.relatedRecords !== undefined) {\n\t\trelatedParams['relatedRecords'] = params.relatedRecords;\n\t}\n\trelatedParams['sourceModule'] = sourceModule;\n\trelatedParams['sourceRecord'] = record;\n\trelatedParams['relationOperation'] = true;\n\tconst quickCreateParams = {\n\t\tcallbackFunction: data => {\n\t\t\tloadActionBar();\n\t\t},\n\t\tcallbackPostShown: postShown,\n\t\tdata: relatedParams,\n\t\tnoCache: true\n\t};\n\tconst headerInstance = new window.crm.Vtiger_Header_Js();\n\theaderInstance.quickCreateModule(moduleName, quickCreateParams);\n}\n\nfunction getCrmWindow() {\n\tif (opener !== null && opener.parent.CONFIG == 'object') {\n\t\treturn opener.parent;\n\t} else if (typeof parent.CONFIG == 'object') {\n\t\treturn parent;\n\t} else if (typeof parent.parent.CONFIG == 'object') {\n\t\treturn parent.parent;\n\t} else if (typeof opener.crm.CONFIG == 'object') {\n\t\treturn opener.crm;\n\t}\n\treturn false;\n}\n"],"names":["window","rcmail","addEventListener","crm","getCrmWindow","loadActionBar","env","message_commands","push","register_command","part","type","jQuery","ajax","url","urlencode","mailbox","uid","async","success","data","JSON","parse","Vtiger_Helper_Js","showPnotify","text","animation","$","params","module","view","folder","rcId","user_id","AppConnector","request","done","response","content","find","html","css","outerHeight","registerEvents","registerAddRecord","registerAddReletedRecord","registerSelectRecord","registerRemoveRecord","registerImportMail","app","registerPopover","closest","click","icon","button","removeClass","addClass","block","toggle","trigger","clicked","vtranslate","action","fail","e","currentTarget","removeRecord","row","val","getCacheModule","moduleCacheGet","relationSelect","moduleCacheSet","mailId","id","relParams","crmid","mod","newModule","showPopup","src_module","src_record","targetElement","sourceModule","showQuickCreateForm","selectValue","col","each","i","record","relatedRecords","mode","dataType","notifyParams","actionsParams","showRecordsList","modal","instance","setSelectEvent","responseData","moduleName","relatedParams","appendTo","ids","link","process","subprocess","subprocess_sl","linkextend","value","element","length","inArray","fromName","split","firstName","nameData","shift","lastName","join","autoCompleteMapRaw","autoCompleteMap","map","hasOwnProperty","name","fillNameFields","subject","fromMail","clone","messageBody","remove","Vtiger_Header_Js","headerInstance","quickCreateModule","callbackFunction","callbackPostShown","postShown","noCache","parent","CONFIG","opener"],"mappings":"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"}